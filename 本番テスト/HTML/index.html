<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <button id="botan">ボタン</button>
        <ul id="task"></ul>
        <input id="ran">
    </div>

    <script>
        const botan = document.getElementById("botan");//要素作成ボタン
        const task = document.getElementById("task");//タスクを作る
        const ran2 = document.getElementById("ran");//テキストボックス。


        botan.addEventListener("click", function() {
            // ボタンをクリックしたときに新しいリストliを作る。
            const rist = document.createElement("li");//要素、liを作るエレメント。
            rist.textContent = ran2.value;//テキストの宣言？
            ran2.value = "";//テキストを空にする。

            // リストを既存のリストに追加
            task.appendChild(rist);//削除する場所。消す場所。

            // リストの対応するボタンを生成
            const taskBotan = document.createElement("button");
            taskBotan.textContent = "未完了"; // 最初は未完了で出したいからそのまま代入。。
            rist.appendChild(taskBotan);

            // 削除ボタンを生成

            const Button = document.createElement("button");//削除ボタン
            Button.textContent = "削除"; //テキストボックスを作ってあげて、文字を代入したらボダンができる？
            rist.appendChild(Button);//新しく作られる要素の中と同じ場所に。


            // ボタンにクリックリスナーを追加　中にif文。　＝＝と悩んだ、けどなぜか、＝＝＝じゃないと出来なかった。なぜ？
            taskBotan.addEventListener("click", function() {
                if (taskBotan.textContent === "未完了") {
             taskBotan.textContent = "完了";
                } else {
                 taskBotan.textContent = "未完了";
                }
            });

                         // 削除ボタンにクリックリスナーを追加
                         Button.addEventListener("click", function() {
                // リストアイテムを要素を削除するコード
                task.removeChild(rist);

               //問題　定数の宣言場所の問題で削除ボタンが新要素にしか、つかなかった。
               //解決　宣言場所の変更（クイックリスナー外から中へ）
               //
        });
    });



    </script>
</body>
</html>
